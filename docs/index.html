<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Index</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Index</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Finder library for Firefox OS</h1><p>This library is an interface to search and pick files from the <code>DeviceStorages</code> on Firefox OS devices. It provides an easy-to-use asynchronous interface for other Firefox OS apps to search for files on Firefox OS devices. The library is based on an event-based architecture, letting developers build beautiful asynchronous API for their apps.</p>
<p>The <code>Finder</code> library is best used by developers looking to pick a file from <code>sdcard</code> for their apps.</p>
<p>This library depends on <a href="https://github.com/Wolfy87/EventEmitter">EventEmitter</a> by Wolfy87, included with the package.</p>
<h2>Install</h2><p>Copy the scripts to your app's directory, e.g. in the <code>js</code> subdirectory. Load these scripts in the HTML page in this order:</p>
<ul>
<li><code>EventEmitter.min.js</code></li>
<li><code>applait.finder.js</code></li>
</ul>
<pre class="prettyprint source lang-html"><code>&lt;script type=&quot;text/javascript&quot; src=&quot;js/EventEmitter.min.js&quot;>&lt;/script>
&lt;script type=&quot;text/javascript&quot; src=&quot;js/applait.finder.js&quot;>&lt;/script></code></pre><h2>Usage</h2><h3>1. Create an instance</h3><p>Create an instance of <code>Applait.Finder</code>. The constructor takes an <code>options</code> object which can have the following options. All options are optional:</p>
<ul>
<li><code>type</code> : Can be one of <code>sdcard</code>, <code>pictures</code>, <code>music</code>, <code>videos</code>. Default: <code>sdcard</code>.</li>
<li><code>minSearchLength</code> : A number representing the minimum length of the search string without which search will not be triggered. Default: <code>3</code>.</li>
<li><code>hidden</code> : If set to <code>true</code>, excludes hidden files from search. Default: <code>false</code>.</li>
<li><code>caseSensitive</code> : If set to <code>true</code>, makes search case sensitive. Default: <code>false</code>.</li>
<li><code>debugMode</code> : If set to <code>true</code>, enables the debug mode, which prints all activities by the library on the browser console. Default: <code>false</code>.</li>
</ul>
<pre class="prettyprint source lang-js"><code>var finder = new Applait.Finder({ type: &quot;sdcard&quot;, debugMode: true });</code></pre><p><strong>Note: for production use, keep <code>debugMode</code> turned off to save memory.</strong></p>
<h4>1.1 Set permissions in <code>manifest.webapp</code></h4><p>In your app's manifest, add permission for the type of <code>DeviceStorage</code> access you need. For details, see <a href="https://developer.mozilla.org/en-US/docs/Web/API/Device_Storage_API#Device_storage_permissions">Device Storage Permissions</a>.</p>
<h3>2. Trigger search</h3><p>Trigger a search by calling <code>finder.search()</code> and passing it the search string.</p>
<pre class="prettyprint source lang-js"><code>finder.search(searchterm);</code></pre><p>From this point onwards, <code>Finder</code> raises events for each action.</p>
<p>The <code>search</code> method will return <code>null</code> only if the search string is smaller in length than <code>minSearchLength</code> or if no <code>storage</code> mediums are found on the device for the given storage <code>type</code>. But is not necessary because <code>Finder</code> raises an event in either case.</p>
<h3>3. Listen to events</h3><p>To listen to events, add an event listener with a callback using <code>finder.on()</code>. Each event gets a specific set of arguments depending on the event. For example, when <code>search()</code> finds a matching file, it raises the <code>fileFound</code> event with two arguments, the <code>File</code> object and a <code>fileinfo</code> object and the storage name in which it was found:</p>
<pre class="prettyprint source lang-js"><code>finder.on(&quot;fileFound&quot;, function (file, fileinfo, storageName) {
    console.log(&quot;Found file &quot; + fileinfo.name + &quot; at &quot; + fileinfo.path + &quot; in &quot; + storageName, file);
}</code></pre><h2>List of events</h2><p>The <code>search</code> method raises events depending on the stage and result of processing the search. When <code>finder.search()</code> is triggered, it raises the following events:</p>
<h3>fileFound</h3><p>This event is fired each time when a file is matched during the search. It provides the following arguments:</p>
<ul>
<li><code>file</code> - the <a href="https://developer.mozilla.org/en-US/docs/Web/API/File">File</a> object of the result matched.</li>
<li><code>fileinfo</code> - An object containing the name and path of the file with the following keys:<ul>
<li><code>name</code>: A string containing the file name and extension.</li>
<li><code>path</code>: A string containing the path to the directory of the file.</li>
</ul>
</li>
<li><code>storageName</code> - The internal name of the storage space.</li>
</ul>
<p>Example:</p>
<pre class="prettyprint source lang-js"><code>finder.on(&quot;fileFound&quot;, function (file, fileinfo, storageName) {
    // Code goes here
});</code></pre><h3>searchBegin</h3><p>This event is fired when search is started. It provides the following arguments:</p>
<ul>
<li><code>needle</code> - The search string.</li>
</ul>
<p>Example:</p>
<pre class="prettyprint source lang-js"><code>finder.on(&quot;searchBegin&quot;, function (needle) {
    // Code goes here
});</code></pre><h3>storageSearchBegin</h3><p>This event is event when a search is begun for a particular <a href="https://developer.mozilla.org/en-US/docs/Web/API/DeviceStorage">DeviceStorage</a>.</p>
<p>For instance, <code>sdcard</code> storage type can have multiple locations. <code>Finder</code> iterates over all available location of the provided storage type using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator.getDeviceStorages">navigator.getDeviceStorages</a>.</p>
<p>This event provides the following arguments:</p>
<ul>
<li><code>storageName</code> - The internal name of the storage space.</li>
<li><code>needle</code> - The search string.</li>
</ul>
<p>Example:</p>
<pre class="prettyprint source lang-js"><code>finder.on(&quot;storageSearchBegin&quot;, function (storageName, needle) {
    // Code goes here
});</code></pre><h3>storageSearchComplete</h3><p>This event is event when a search is completed for a particular <a href="https://developer.mozilla.org/en-US/docs/Web/API/DeviceStorage">DeviceStorage</a>. It can be raised multiple times per search, depending on the number of <code>storage</code> locations available.</p>
<p>This event provides the following arguments:</p>
<ul>
<li><code>storageName</code> - The internal name of the storage space.</li>
<li><code>needle</code> - The search string.</li>
</ul>
<p>Example:</p>
<pre class="prettyprint source lang-js"><code>finder.on(&quot;storageSearchComplete&quot;, function (storageName, needle) {
    // Code goes here
});</code></pre><h3>searchComplete</h3><p>This event is fired when the entire search has completed. It is raised only once for each search. It provides the following arguments:</p>
<ul>
<li><code>needle</code> - The search string.</li>
<li><code>filematchcount</code> - The number of files matched in this search.</li>
</ul>
<p>Note that <code>searchComplete</code> can be fired multiple times during a single <code>search()</code> if there are multiple storage locations.</p>
<p>Example:</p>
<pre class="prettyprint source lang-js"><code>finder.on(&quot;searchComplete&quot;, function (needle, filematchcount) {
    // Code goes here
});</code></pre><h3>searchCancelled</h3><p>This event is fired when a search is cancelled. It provides the following arguments:</p>
<ul>
<li><code>message</code> : A string describing the reason of the cancel.</li>
</ul>
<p>Example:</p>
<pre class="prettyprint source lang-js"><code>finder.on(&quot;searchCancelled&quot;, function (message) {
    // Code goes here
});</code></pre><h3>empty</h3><p>This event is fired when there is no storage medium available for the provided storage type. It provides the following arguments:</p>
<ul>
<li><code>needle</code> - The search string.</li>
</ul>
<p>Example:</p>
<pre class="prettyprint source lang-js"><code>finder.on(&quot;empty&quot;, function (needle) {
    // Code goes here
});</code></pre><h3>error</h3><p>This event is fired when any error is faced by the search. It provides the following arguments:</p>
<ul>
<li><code>message</code> : A string describing the reason of the cancel.</li>
<li><code>error</code> : The error object thrown.</li>
</ul>
<p>Example:</p>
<pre class="prettyprint source lang-js"><code>finder.on(&quot;error&quot;, function (message, err) {
    // Code goes here
});</code></pre><h2>Properties</h2><p>Here are some useful properties of the <code>Applait.Finder</code> class:</p>
<ul>
<li><code>this.filematchcount</code> : Number of files matched in latest search.</li>
<li><code>this.searchkey</code> : Search key (needle) of latest search.</li>
<li><code>this.storagesearchcount</code> : Number of storage locations already searched in the current search.</li>
<li><code>this.options</code> : Options object passed to the constructor.</li>
</ul>
<h2>Credits and attribution</h2><ul>
<li><a href="https://github.com/Wolfy87/EventEmitter">EventEmitter</a> by Oliver Caldwell. Used under the MIT License.</li>
</ul>
<p> ~~ Built with love by <a href="http://applait.com">Applait</a>. ~~</p></article>
    </section>









<section>

<header>
    
        <h2>
        applait.finder.js
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>File picker and finder for device storages on Firefox OS devices</p>
<p>This library provides an easy-to-use asynchronous interface for other Firefox OS apps to search for files
on Firefox OS devices. The library is based on an event-based architecture, letting developers build
beautiful asynchronous API for their apps.</p>
<p>The <code>Finder</code> library is best used by developers looking to pick a file from the <code>sdcard</code> for their apps.</p>
<p>This library depends on <a href="https://github.com/Wolfy87/EventEmitter">EventEmitter</a> by Wolfy87, included with the
package.</p></div>
        

        


<dl class="details">

    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>1.1.1</li></ul></dd>
    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Applait Technologies LLP</li>
        </ul>
    </dd>
    

    
    <dt class="tag-copyright">Copyright:</dt>
    <dd class="tag-copyright"><ul class="dummy"><li>Copyright (c) 2014 Applait Technologies LLP</li></ul></dd>
    

    
    <dt class="tag-license">License:</dt>
    <dd class="tag-license"><ul class="dummy"><li>The MIT License (MIT)</li></ul></dd>
    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="applait.finder.js.html">applait.finder.js</a>, <a href="applait.finder.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Applait.Finder.html">Finder</a></li></ul><h3>Namespaces</h3><ul><li><a href="Applait.html">Applait</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha10</a> on Sat Nov 22 2014 23:20:29 GMT+0530 (IST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>